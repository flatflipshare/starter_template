{"version":3,"sources":["app.js"],"names":["$window","$document","$body","globalXHRStatus","yModalConfig","conf","fancyStatus","nodeBody","$","fancyDefault","wrapCSS","padding","margin","autoScale","fitToView","openSpeed","closeSpeed","nextSpeed","prevSpeed","closeBtn","toolbar","afterShow","addClass","$thisFancy","moduleApp","executeModules","beforeClose","removeClass","afterClose","init","this","initGlobals","initGlobalsEvents","startupMessage","confirmLocationPopup","loaderImages","pageLoader","pagePreLoader","getRandom","min","max","Math","round","random","window","document","on","trigger","methods","getInitialEvents","thisEvent","e","preventDefault","$this","thisAction","attr","thisValue","val","data","value","actions","console","log","getTarget","thisTarget","m-menu","$menuBtn","$menu","toggleClass","closeFancy","fancybox","close","share-page","shareService","shareData","encodeURI","windowLink","fbWindowLink","open","print-page","print","scroll-to-anchor","target","length","stop","animate","scrollTop","offset","top","scroll-top","toggle-lk-menu","$close","find","mouseup","is","has","each","i","thisModule","$thisModule","thisModuleName","setTimeout","inViewLoader","fadeOut","delay","appConfig","mobileVersion","detach","appendTo","hiddenClass","$inView","$e","string","parseInt","style","event","isInView","title","message","t","thisFancyConfig","extend","content","$img","thisImg","$thisImage","$parentNode","parent","imgUrl","img","imgMiddle","middle","imgVisible","visible","nativeStyle","removeAttr","tempImage","Image","src","onload","r1","r2","middleArray","width","height","halfTop","halfLeft","hasClass","zoom","howView","pageApp","curApp","page-index","ready"],"mappings":"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","file":"app.min.js","sourcesContent":["var $window, $document, $body, globalXHRStatus, yModalConfig;\n\nvar conf = {\n    'fancyStatus':false,\n    'nodeBody':$('#body'),\n    'fancyDefault':{\n        wrapCSS: 'fb-fancy-default',\n        padding: 0,\n        margin: 0,\n        autoScale: false,\n        fitToView: false,\n        openSpeed: 300,\n        closeSpeed: 300,\n        nextSpeed: 300,\n        prevSpeed: 300,\n        closeBtn : false,\n        toolbar : false,\n        afterShow:function(){\n            conf.nodeBody.addClass('body-state-fancy');\n\n            // this modal parent\n            var $thisFancy = $('.fancybox-inner');\n            moduleApp.executeModules($thisFancy);\n\n        },\n        beforeClose:function(){\n            conf.nodeBody.removeClass('body-state-fancy');\n        },\n        afterClose:function(){\n            conf.fancyStatus = false;\n        }\n    }\n};\n\nvar moduleApp = {\n    'init': function () {\n        this.initGlobals();\n        this.initGlobalsEvents();\n        this.startupMessage();\n        this.executeModules();\n        this.confirmLocationPopup();\n        this.loaderImages();\n        this.pageLoader();\n        this.pagePreLoader();\n    },\n    'getRandom':function(min,max){\n        return Math.round(min - 0.5 + Math.random() * (max - min + 1));\n    },\n    'initGlobals':function(){\n        $window = $(window);\n        $document = $(document);\n        $body = $('#body');\n        globalXHRStatus = false;\n        $window.on('load',function(){\n            $window.trigger('resize');\n        });\n    },\n    'initGlobalsEvents':function(){\n        \n        var methods = {\n            'init':function(){\n                methods.getInitialEvents('click');\n                methods.getInitialEvents('change');\n            },\n            'getInitialEvents':function(thisEvent){\n                $document.on(thisEvent,'[data-g'+thisEvent+']',function(e){\n                    e.preventDefault();\n                    var $this = $(this);\n                    var thisAction = $this.attr('data-g'+thisEvent);\n                    var thisValue = $this.val() || $this.data().value;\n                    if (actions[thisAction]) { actions[thisAction]($this,thisValue); }\n                    else { console.log('Event: '+thisEvent+', Action:\"'+thisAction+'\" - not defined'); }\n                });\n            },\n            'getTarget':function(thisTarget){\n                return $('[data-target=\"'+thisTarget+'\"]');\n            }\n        };\n\n        var actions = {\n\n            'm-menu':function(){\n                var $menuBtn = $('.js-hamburger');\n                var $menu = $('.js-is-mobile');\n                $menuBtn.toggleClass('is-active');\n                $menu.toggleClass('is-active');\n            },\n            'closeFancy':function(){\n                $.fancybox.close();\n            },\n            'share-page':function($this,thisValue){\n                var shareService = thisValue;\n                var shareData = {\n                    'link':$('[property=\"og:url\"]').attr('content'),\n                    'title':encodeURI($('[property=\"og:title\"]').attr('content')),\n                    'description':encodeURI($('[property=\"og:description\"]').attr('content')),\n                    'image':$('[property=\"og:image\"]').attr('content')\n                };\n\n                var windowLink = 'http://share.yandex.ru/go.xml?service=' + shareService;\n                var fbWindowLink = 'http://www.facebook.com/sharer/sharer.php?';\n                windowLink += '&title=' + shareData.title;\n\n                if (shareService=='twitter') {\n                    windowLink += ' ' + shareData.description;\n                    windowLink += '&url=' + shareData.link;\n                    windowLink += '&link=' + shareData.link;\n                } else if (shareService=='facebook'){\n                    fbWindowLink += 'u=' + shareData.link;\n                } else {\n                    windowLink += '&url=' + shareData.link;\n                    windowLink += '&link=' + shareData.link;\n                    windowLink += '&description=' + shareData.description;\n                    windowLink += '&image=' + shareData.image;\n                }\n                if (shareService == 'facebook'){\n                    window.open(fbWindowLink,'','toolbar=0,status=0,width=625,height=435');\n                } else {\n                    window.open(windowLink,'','toolbar=0,status=0,width=625,height=435');\n                }\n            },\n            'print-page':function(){\n                window.print();\n            },\n            'scroll-to-anchor': function($this) {\n                var target = $this.attr('href');\n                if( target.length ) {\n                    $('html, body').stop().animate({\n                        scrollTop: $(target).offset().top -70\n                    }, 700);\n                }\n            },\n            'scroll-top':function() {\n                $('html,body').animate({\n                    scrollTop: 0\n                }, 700);\n            },\n            'toggle-lk-menu': function($this) {\n              var $menu = $('#lkMenu');\n              var $close = $menu.find('.js_menuClose');\n              $menu.addClass('is-active');\n\n              $document.mouseup(function(e) {\n                  if (!$menu.is(e.target) && $menu.has(e.target).length === 0) {\n                      $menu.removeClass('is-active');\n                  }\n              });\n              $close.on('click', function() {\n                  $menu.removeClass('is-active');\n              })\n            }\n        };\n\n        methods.init();\n    },\n    'executeModules':function(){\n        $('[data-is]').each(function(i,thisModule){\n            var $thisModule = $(thisModule);\n            var thisModuleName = $thisModule.attr('data-is');\n            if(moduleApp[thisModuleName]) {\n                console.log('Auto start: `' + thisModuleName + '`.');\n                moduleApp[thisModuleName]($thisModule);\n            } else {\n                console.log('Module: `' + thisModuleName + '` is not defined.');\n            }\n        });\n    },\n    'pageLoader': function(){\n        $body.addClass('jsfx-loaded');\n        setTimeout(function(){ moduleApp.inViewLoader(); }, 300);\n    },\n    'pagePreLoader': function() {\n        $(\".loader_inner\").fadeOut();\n        $(\".loader\").delay(100).fadeOut(\"slow\");\n    },\n    'confirmLocationPopup':function() {\n        if(appConfig.mobileVersion) {\n            $(\".js-confirm-location-trigger\").detach().appendTo('#globalHeader');\n        }\n        $window.on('load', function () {\n            setTimeout(function(){\n                $(\".js-confirm-location-trigger\").addClass(\"is-active\");\n            }, 3000);\n            $(\".js-hide-check-location\").on(\"click\", function() {\n                \n                $(\".js-confirm-location-trigger\").removeClass(\"is-active\");\n            })\n        });\n    },\n    'inViewLoader':function(){\n        var hiddenClass = 'view-hidden';\n        var $inView = $('.'+hiddenClass);\n\n        $inView.each(function(i,e){\n            var $e = $(e);\n            var r1 = parseInt(Math.random() * 1000) + 500;\n            var r2 = parseInt(Math.random() * 200);\n            var string = 'transition-duration:'+r1+'ms;transition-delay:'+r2+'ms;transition-property:opacity;';\n            var style = $e.attr('style');\n            if (style) { string = string + style; }\n            $e.attr('style',string);\n\n        });\n\n        $inView.on('inview', function(event, isInView) {\n            if (isInView) { $(this).removeClass(hiddenClass); }\n        });\n    },\n    'startupMessage':function(){\n        if (appConfig.startupMessage.title && appConfig.startupMessage.message) {\n            var t = '<div class=\"fb-modal-default\">';\n            t += '<a class=\"is-cross-link\" data-gclick=\"closeFancy\" href=\"#\"><img src=\"/assets/img/icon-cross.svg\" alt=\"\"></a>';\n            t += '<div class=\"md-body\">'+appConfig.startupMessage.message+'</div>';\n            t += '</div>';\n\n            var thisFancyConfig = $.extend({}, conf.fancyDefault, {\n                content: t\n            });\n\n            $.fancybox.open(t, thisFancyConfig);\n        }\n    },  \n    'loaderImages':function($img){\n\n        var inviewFlag = true;\n        if (!$img) { $img = $('[data-img]'); }\n\n        $img.each(function(i,thisImg){\n\n            var $thisImage = $(thisImg);\n            var $parentNode = $thisImage.parent();\n\n            var imgUrl = $thisImage.data().img || '';\n            var imgMiddle = $thisImage.data().middle || false;\n            var imgVisible = $thisImage.data().visible || false;\n            var nativeStyle = $thisImage.attr('style') || '';\n\n            if (!imgVisible) { $thisImage.addClass('sfx-hidden'); }\n\n            $thisImage.removeAttr('data-img');\n            var tempImage = new Image();\n            tempImage.src = imgUrl;\n            tempImage.onload = function(){\n\n\n                var r1 = moduleApp.getRandom(500,1200);\n                var r2 = moduleApp.getRandom(0,300);\n\n                if ($thisImage.is('img')) {\n                    $thisImage.attr('src',imgUrl);\n\n\n                    if (imgMiddle) {\n                        var middleArray = { };\n                        middleArray.width = parseInt($thisImage.width());\n                        middleArray.height = parseInt($thisImage.height());\n                        middleArray.halfTop = parseInt(middleArray.height/2);\n                        middleArray.halfLeft = parseInt(middleArray.width/2);\n                        nativeStyle += 'position:absolute;display:block;top:50%;left:50%;width:'+middleArray.width+'px;height:'+middleArray.height+'px;margin:-'+middleArray.halfTop+'px 0 0 -'+middleArray.halfLeft+'px;';\n                    }\n\n                    $thisImage.attr('style',nativeStyle + 'transition-property:opacity;transition-duration:'+r1+'ms;transition-delay:'+r2+'ms;');\n                } else {\n                    $thisImage.attr('style',nativeStyle+'background-image:url('+imgUrl+');transition-property:opacity;transition-duration:'+r1+'ms;transition-delay:'+r2+'ms;');\n                }\n                if($parentNode.hasClass('js-zoom-image')) $parentNode.zoom();\n            };\n        });\n\n        if (inviewFlag) {\n            $img.on('inview', function(event, isInView, howView) {\n                if (isInView) {\n                    var $this = $(this);\n                    $(this).removeClass('sfx-hidden');\n                }\n            });\n        } else {\n            $img.removeClass('sfx-hidden');\n        }\n    }\n};\n\nvar pageApp = {\n    'init': function(){\n        var curApp = $('#app').attr('data-app');\n        if (pageApp[curApp]) { pageApp[curApp](); }\n    },\n    'page-index':function(){\n        console.log('index-here');\n    }\n};\n\n\n$(document).ready(function(){ \n    moduleApp.init(); \n    // pageApp.init();\n\n});\n"]}