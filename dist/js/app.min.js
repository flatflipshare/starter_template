var $window,$document,$body,globalXHRStatus,yModalConfig,conf={fancyStatus:!1,nodeBody:$("#body"),fancyDefault:{wrapCSS:"fb-fancy-default",padding:0,margin:0,autoScale:!1,fitToView:!1,openSpeed:300,closeSpeed:300,nextSpeed:300,prevSpeed:300,closeBtn:!1,toolbar:!1,afterShow:function(){conf.nodeBody.addClass("body-state-fancy");var t=$(".fancybox-inner");moduleApp.executeModules(t)},beforeClose:function(){conf.nodeBody.removeClass("body-state-fancy")},afterClose:function(){conf.fancyStatus=!1}}},moduleApp={init:function(){this.initGlobals(),this.initGlobalsEvents(),this.startupMessage(),this.executeModules(),this.confirmLocationPopup(),this.loaderImages(),this.pageLoader(),this.pagePreLoader()},getRandom:function(t,e){return Math.round(t-.5+Math.random()*(e-t+1))},initGlobals:function(){$window=$(window),$document=$(document),$body=$("#body"),globalXHRStatus=!1,$window.on("load",function(){$window.trigger("resize")})},initGlobalsEvents:function(){var t={init:function(){t.getInitialEvents("click"),t.getInitialEvents("change")},getInitialEvents:function(n){$document.on(n,"[data-g"+n+"]",function(t){t.preventDefault();var e=$(this),o=e.attr("data-g"+n),a=e.val()||e.data().value;i[o]?i[o](e,a):console.log("Event: "+n+', Action:"'+o+'" - not defined')})},getTarget:function(t){return $('[data-target="'+t+'"]')}},i={"m-menu":function(){var t=$(".js-hamburger"),e=$(".js-is-mobile");t.toggleClass("is-active"),e.toggleClass("is-active")},closeFancy:function(){$.fancybox.close()},"share-page":function(t,e){var o=e,a=$('[property="og:url"]').attr("content"),n=encodeURI($('[property="og:title"]').attr("content")),i=encodeURI($('[property="og:description"]').attr("content")),s=$('[property="og:image"]').attr("content"),r="http://share.yandex.ru/go.xml?service="+o,d="http://www.facebook.com/sharer/sharer.php?";r+="&title="+n,"twitter"==o?(r+=" "+i,r+="&url="+a,r+="&link="+a):"facebook"==o?d+="u="+a:(r+="&url="+a,r+="&link="+a,r+="&description="+i,r+="&image="+s),"facebook"==o?window.open(d,"","toolbar=0,status=0,width=625,height=435"):window.open(r,"","toolbar=0,status=0,width=625,height=435")},"print-page":function(){window.print()},"scroll-to-anchor":function(t){var e=t.attr("href");e.length&&$("html, body").stop().animate({scrollTop:$(e).offset().top-70},700)},"scroll-top":function(){$("html,body").animate({scrollTop:0},700)},"toggle-lk-menu":function(t){var e=$("#lkMenu"),o=e.find(".js_menuClose");e.addClass("is-active"),$document.mouseup(function(t){e.is(t.target)||0!==e.has(t.target).length||e.removeClass("is-active")}),o.on("click",function(){e.removeClass("is-active")})}};t.init()},executeModules:function(){$("[data-is]").each(function(t,e){var o=$(e),a=o.attr("data-is");moduleApp[a]?(console.log("Auto start: `"+a+"`."),moduleApp[a](o)):console.log("Module: `"+a+"` is not defined.")})},pageLoader:function(){$body.addClass("jsfx-loaded"),setTimeout(function(){moduleApp.inViewLoader()},300)},pagePreLoader:function(){$(".loader_inner").fadeOut(),$(".loader").delay(100).fadeOut("slow")},confirmLocationPopup:function(){appConfig.mobileVersion&&$(".js-confirm-location-trigger").detach().appendTo("#globalHeader"),$window.on("load",function(){setTimeout(function(){$(".js-confirm-location-trigger").addClass("is-active")},3e3),$(".js-hide-check-location").on("click",function(){$(".js-confirm-location-trigger").removeClass("is-active")})})},inViewLoader:function(){var o="view-hidden",t=$("."+o);t.each(function(t,e){var o=$(e),a="transition-duration:"+(parseInt(1e3*Math.random())+500)+"ms;transition-delay:"+parseInt(200*Math.random())+"ms;transition-property:opacity;",n=o.attr("style");n&&(a+=n),o.attr("style",a)}),t.on("inview",function(t,e){e&&$(this).removeClass(o)})},startupMessage:function(){if(appConfig.startupMessage.title&&appConfig.startupMessage.message){var t='<div class="fb-modal-default">';t+='<a class="is-cross-link" data-gclick="closeFancy" href="#"><img src="/assets/img/icon-cross.svg" alt=""></a>',t+='<div class="md-body">'+appConfig.startupMessage.message+"</div>",t+="</div>";var e=$.extend({},conf.fancyDefault,{content:t});$.fancybox.open(t,e)}},loaderImages:function(t){(t=t||$("[data-img]")).each(function(t,e){var a=$(e),n=a.parent(),i=a.data().img||"",s=a.data().middle||!1,o=a.data().visible||!1,r=a.attr("style")||"";o||a.addClass("sfx-hidden"),a.removeAttr("data-img");var d=new Image;d.src=i,d.onload=function(){var t=moduleApp.getRandom(500,1200),e=moduleApp.getRandom(0,300);if(a.is("img")){if(a.attr("src",i),s){var o={};o.width=parseInt(a.width()),o.height=parseInt(a.height()),o.halfTop=parseInt(o.height/2),o.halfLeft=parseInt(o.width/2),r+="position:absolute;display:block;top:50%;left:50%;width:"+o.width+"px;height:"+o.height+"px;margin:-"+o.halfTop+"px 0 0 -"+o.halfLeft+"px;"}a.attr("style",r+"transition-property:opacity;transition-duration:"+t+"ms;transition-delay:"+e+"ms;")}else a.attr("style",r+"background-image:url("+i+");transition-property:opacity;transition-duration:"+t+"ms;transition-delay:"+e+"ms;");n.hasClass("js-zoom-image")&&n.zoom()}}),t.on("inview",function(t,e,o){if(e){$(this);$(this).removeClass("sfx-hidden")}})}},pageApp={init:function(){var t=$("#app").attr("data-app");pageApp[t]&&pageApp[t]()},"page-index":function(){console.log("index-here")}};$(document).ready(function(){moduleApp.init()});
//# sourceMappingURL=app.min.js.map
